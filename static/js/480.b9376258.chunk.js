"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[480],{4480:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var r,a,c,i,o=t(885),u=t(1898),s=t(2791),p=t(6871),f=t(168),h=t(5751),l=h.ZP.li(r||(r=(0,f.Z)(["\n  padding: 10px;\n  list-style: none;\n  background: ",";\n  border: 1px solid ",";\n  margin-bottom: 20px;\n"])),(function(e){return e.theme.colors.bgGrey}),(function(e){return e.theme.colors.white})),g=h.ZP.h2(a||(a=(0,f.Z)(["\n  margin: 0;\n  padding: 10px;\n  font-style: normal;\n  font-weight: 900;\n  font-size: 24px;\n  line-height: 1;\n  letter-spacing: 0.06em;\n  color: ",";\n"])),(function(e){return e.theme.colors.baseColor})),v=h.ZP.p(c||(c=(0,f.Z)(["\n  margin: 0;\n  padding: 5px 10px;\n  font-style: italic;\n  font-weight: 400;\n  font-size: 18px;\n  line-height: 2;\n  letter-spacing: 0.04em;\n"]))),d=t(184);function y(e){var n=e.review,t=n.author,r=n.content;return(0,d.jsxs)(l,{children:[(0,d.jsxs)(g,{children:[" ",t]}),(0,d.jsx)(v,{children:r})]})}var m=h.ZP.p(i||(i=(0,f.Z)(["\n  display: flex;\n  justify-content: center;\n  align-content: center;\n  margin: 0;\n  padding: 20px;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 36px;\n  line-height: 1.62;\n  letter-spacing: 0.06em;\n  color: ",";\n"])),(function(e){return e.theme.colors.orange})),x=new u.Z;function w(){var e=(0,s.useState)(null),n=(0,o.Z)(e,2),t=n[0],r=n[1],a=(0,s.useState)(""),c=(0,o.Z)(a,2),i=c[0],u=c[1],f=(0,p.UO)().movieId;return(0,s.useEffect)((function(){x.fetchMovieReviews(f).then((function(e){var n=e.results;r(n)})).catch((function(e){return u(e)}))}),[f]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{children:(0,d.jsx)("ul",{children:t&&t.map((function(e){return(0,d.jsx)(y,{review:e},e.id)}))})}),!i&&t&&0===t.length&&(0,d.jsx)(m,{children:"We don't have any reviews for this movie"}),i&&(0,d.jsx)(m,{children:"Sorry, there was an error, please try again"})]})}},1898:function(e,n,t){t.d(n,{Z:function(){return h}});var r=t(5861),a=t(5671),c=t(3144),i=t(7757),o=t.n(i),u=t(4569),s=t.n(u),p="d16c53a3a4d5eb154f379745597d6181",f="https://api.themoviedb.org",h=function(){function e(){(0,a.Z)(this,e),this.page=1}return(0,c.Z)(e,[{key:"fetchTrendingMovies",value:function(){var e=(0,r.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("".concat(f,"/3/trending/movie/day?api_key=").concat(p,"&page=").concat(this.page));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchMovieForQuery",value:function(){var e=(0,r.Z)(o().mark((function e(n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("".concat(f,"/3/search/movie?api_key=").concat(p,"&page=").concat(this.page,"&query=").concat(n,"&language=en-US&include_adult=false"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"fetchMovieDetails",value:function(){var e=(0,r.Z)(o().mark((function e(n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("".concat(f,"/3/movie/").concat(n,"?api_key=").concat(p,"&language=en-US"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"fetchMovieActors",value:function(){var e=(0,r.Z)(o().mark((function e(n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("".concat(f,"/3/movie/").concat(n,"/credits?api_key=").concat(p,"&language=en-US"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"fetchMovieReviews",value:function(){var e=(0,r.Z)(o().mark((function e(n){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("".concat(f,"/3/movie/").concat(n,"/reviews?api_key=").concat(p,"&language=en-US&page=").concat(this.page));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"pageAdd",value:function(){this.page+=1}},{key:"resetPage",value:function(){this.page=1}},{key:"query",get:function(){return this.searchValue},set:function(e){this.searchValue=e}}]),e}()}}]);
//# sourceMappingURL=480.b9376258.chunk.js.map